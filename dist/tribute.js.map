{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/Tribute.js",
    "src/TributeEvents.js",
    "src/TributeMenuEvents.js",
    "src/TributeRange.js",
    "src/TributeSearch.js",
    "src/index.js",
    "src/utils.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "import \"./utils\";\nimport TributeEvents from \"./TributeEvents\";\nimport TributeMenuEvents from \"./TributeMenuEvents\";\nimport TributeRange from \"./TributeRange\";\nimport TributeSearch from \"./TributeSearch\";\n\nclass Tribute {\n    constructor({\n        values = null,\n        iframe = null,\n        selectClass = 'highlight',\n        containerClass = 'tribute-container',\n        itemClass = '',\n        trigger = '@',\n        autocompleteMode = false,\n        selectTemplate = null,\n        menuItemTemplate = null,\n        lookup = 'key',\n        fillAttr = 'value',\n        collection = null,\n        menuContainer = null,\n        noMatchTemplate = null,\n        requireLeadingSpace = true,\n        allowSpaces = false,\n        replaceTextSuffix = null,\n        positionMenu = true,\n        spaceSelectsMatch = false,\n        searchOpts = {},\n        menuItemLimit = null,\n    }) {\n        this.autocompleteMode = autocompleteMode\n        this.menuSelected = 0\n        this.current = {}\n        this.inputEvent = false\n        this.isActive = false\n        this.menuContainer = menuContainer\n        this.allowSpaces = allowSpaces\n        this.replaceTextSuffix = replaceTextSuffix\n        this.positionMenu = positionMenu\n        this.hasTrailingSpace = false;\n        this.spaceSelectsMatch = spaceSelectsMatch;\n\n        if (this.autocompleteMode) {\n            trigger = ''\n            allowSpaces = false\n        }\n\n        if (values) {\n            this.collection = [{\n                // symbol that starts the lookup\n                trigger: trigger,\n\n                // is it wrapped in an iframe\n                iframe: iframe,\n\n                // class applied to selected item\n                selectClass: selectClass,\n\n                // class applied to the Container \n                containerClass: containerClass,\n\n                // class applied to each item\n                itemClass: itemClass,\n\n                // function called on select that retuns the content to insert\n                selectTemplate: (selectTemplate || Tribute.defaultSelectTemplate).bind(this),\n\n                // function called that returns content for an item\n                menuItemTemplate: (menuItemTemplate || Tribute.defaultMenuItemTemplate).bind(this),\n\n                // function called when menu is empty, disables hiding of menu.\n                noMatchTemplate: (t => {\n                    if (typeof t === 'function') {\n                        return t.bind(this)\n                    }\n\n                    return noMatchTemplate || function () {return ''}.bind(this)\n                })(noMatchTemplate),\n\n                // column to search against in the object\n                lookup: lookup,\n\n                // column that contains the content to insert by default\n                fillAttr: fillAttr,\n\n                // array of objects or a function returning an array of objects\n                values: values,\n\n                requireLeadingSpace: requireLeadingSpace,\n\n                searchOpts: searchOpts,\n\n                menuItemLimit: menuItemLimit,\n            }]\n        }\n        else if (collection) {\n            if (this.autocompleteMode)\n                console.warn('Tribute in autocomplete mode does not work for collections')\n            this.collection = collection.map(item => {\n                return {\n                    trigger: item.trigger || trigger,\n                    iframe: item.iframe || iframe,\n                    selectClass: item.selectClass || selectClass,\n                    containerClass: item.containerClass || containerClass,\n                    itemClass: item.itemClass || itemClass,\n                    selectTemplate: (item.selectTemplate || Tribute.defaultSelectTemplate).bind(this),\n                    menuItemTemplate: (item.menuItemTemplate || Tribute.defaultMenuItemTemplate).bind(this),\n                    // function called when menu is empty, disables hiding of menu.\n                    noMatchTemplate: (t => {\n                        if (typeof t === 'function') {\n                            return t.bind(this)\n                        }\n\n                        return null\n                    })(noMatchTemplate),\n                    lookup: item.lookup || lookup,\n                    fillAttr: item.fillAttr || fillAttr,\n                    values: item.values,\n                    requireLeadingSpace: item.requireLeadingSpace,\n                    searchOpts: item.searchOpts || searchOpts,\n                    menuItemLimit: item.menuItemLimit || menuItemLimit,\n                }\n            })\n        }\n        else {\n            throw new Error('[Tribute] No collection specified.')\n        }\n\n        new TributeRange(this)\n        new TributeEvents(this)\n        new TributeMenuEvents(this)\n        new TributeSearch(this)\n    }\n\n    static defaultSelectTemplate(item) {\n      if (typeof item === 'undefined') return null;\n      if (this.range.isContentEditable(this.current.element)) {\n          return '<span class=\"tribute-mention\">' + (this.current.collection.trigger + item.original[this.current.collection.fillAttr]) + '</span>';\n      }\n\n      return this.current.collection.trigger + item.original[this.current.collection.fillAttr];\n    }\n\n    static defaultMenuItemTemplate(matchItem) {\n        return matchItem.string\n    }\n\n    static inputTypes() {\n        return ['TEXTAREA', 'INPUT']\n    }\n\n    triggers() {\n        return this.collection.map(config => {\n            return config.trigger\n        })\n    }\n\n    attach(el) {\n        if (!el) {\n            throw new Error('[Tribute] Must pass in a DOM node or NodeList.')\n        }\n\n        // Check if it is a jQuery collection\n        if (typeof jQuery !== 'undefined' && el instanceof jQuery) {\n            el = el.get()\n        }\n\n        // Is el an Array/Array-like object?\n        if (el.constructor === NodeList || el.constructor === HTMLCollection || el.constructor === Array) {\n            let length = el.length\n            for (var i = 0; i < length; ++i) {\n                this._attach(el[i])\n            }\n        } else {\n            this._attach(el)\n        }\n    }\n\n    _attach(el) {\n        if (el.hasAttribute('data-tribute')) {\n            console.warn('Tribute was already bound to ' + el.nodeName)\n        }\n\n        this.ensureEditable(el)\n        this.events.bind(el)\n        el.setAttribute('data-tribute', true)\n    }\n\n    ensureEditable(element) {\n        if (Tribute.inputTypes().indexOf(element.nodeName) === -1) {\n            if (element.contentEditable) {\n                element.contentEditable = true\n            } else {\n                throw new Error('[Tribute] Cannot bind to ' + element.nodeName)\n            }\n        }\n    }\n\n    createMenu(containerClass) {\n        let wrapper = this.range.getDocument().createElement('div'),\n            ul = this.range.getDocument().createElement('ul')\n        wrapper.className = containerClass\n        wrapper.appendChild(ul)\n\n        if (this.menuContainer) {\n            return this.menuContainer.appendChild(wrapper)\n        }\n\n        return this.range.getDocument().body.appendChild(wrapper)\n    }\n\n    showMenuFor(element, scrollTo) {\n        // Only proceed if menu isn't already shown for the current element & mentionText\n        if (this.isActive && this.current.element === element && this.current.mentionText === this.currentMentionTextSnapshot) {\n          return\n        }\n        this.currentMentionTextSnapshot = this.current.mentionText\n\n        // create the menu if it doesn't exist.\n        if (!this.menu) {\n            this.menu = this.createMenu(this.current.collection.containerClass)\n            element.tributeMenu = this.menu\n            this.menuEvents.bind(this.menu)\n        }\n\n        this.isActive = true\n        this.menuSelected = 0\n\n        if (!this.current.mentionText) {\n            this.current.mentionText = ''\n        }\n\n        const processValues = (values) => {\n            // Tribute may not be active any more by the time the value callback returns\n            if (!this.isActive) {\n                return\n            }\n\n            let items = this.search.filter(this.current.mentionText, values, {\n                pre: this.current.collection.searchOpts.pre || '<span>',\n                post: this.current.collection.searchOpts.post || '</span>',\n                skip: this.current.collection.searchOpts.skip,\n                extract: (el) => {\n                    if (typeof this.current.collection.lookup === 'string') {\n                        return el[this.current.collection.lookup]\n                    } else if (typeof this.current.collection.lookup === 'function') {\n                        return this.current.collection.lookup(el, this.current.mentionText)\n                    } else {\n                        throw new Error('Invalid lookup attribute, lookup must be string or function.')\n                    }\n                }\n            })\n\n            if (this.current.collection.menuItemLimit) {\n                items = items.slice(0, this.current.collection.menuItemLimit)\n            }\n\n            this.current.filteredItems = items\n\n\n            let ul = this.menu.querySelector('ul')\n\n            this.range.positionMenuAtCaret(scrollTo)\n\n            if (!items.length) {\n                let noMatchEvent = new CustomEvent('tribute-no-match', { detail: this.menu })\n                this.current.element.dispatchEvent(noMatchEvent)\n                if ( typeof this.current.collection.noMatchTemplate === 'function' && !this.current.collection.noMatchTemplate() || !this.current.collection.noMatchTemplate) {\n                    this.hideMenu()\n                } else {\n                    typeof this.current.collection.noMatchTemplate === 'function' ? ul.innerHTML = this.current.collection.noMatchTemplate() : ul.innerHTML = this.current.collection.noMatchTemplate\n                }\n\n                return\n            }\n\n            ul.innerHTML = ''\n            let fragment = this.range.getDocument().createDocumentFragment()\n\n            items.forEach((item, index) => {\n                let li = this.range.getDocument().createElement('li')\n                li.setAttribute('data-index', index)\n                li.className = this.current.collection.itemClass\n                li.addEventListener('mousemove', (e) => {\n                    let [li, index] = this._findLiTarget(e.target)\n                    if (e.movementY !== 0) {\n                        this.events.setActiveLi(index)\n                    }\n                })\n                if (this.menuSelected === index) {\n                  li.classList.add(this.current.collection.selectClass)\n                }\n                li.innerHTML = this.current.collection.menuItemTemplate(item)\n                fragment.appendChild(li)\n            })\n            ul.appendChild(fragment)\n        }\n\n        if (typeof this.current.collection.values === 'function') {\n            this.current.collection.values(this.current.mentionText, processValues)\n        } else {\n            processValues(this.current.collection.values)\n        }\n    }\n\n    _findLiTarget(el) {\n        if (!el) return []\n        const index = el.getAttribute('data-index');\n        return !index ?\n            this._findLiTarget(el.parentNode) :\n            [el, index]\n    }\n\n    showMenuForCollection(element, collectionIndex) {\n        if (element !== document.activeElement) {\n            this.placeCaretAtEnd(element)\n        }\n\n        this.current.collection = this.collection[collectionIndex || 0]\n        this.current.externalTrigger = true\n        this.current.element = element\n\n        if (element.isContentEditable)\n            this.insertTextAtCursor(this.current.collection.trigger)\n        else\n            this.insertAtCaret(element, this.current.collection.trigger)\n\n        this.showMenuFor(element)\n    }\n\n    // TODO: make sure this works for inputs/textareas\n    placeCaretAtEnd(el) {\n        el.focus();\n        if (typeof window.getSelection != \"undefined\"\n                && typeof document.createRange != \"undefined\") {\n            var range = document.createRange();\n            range.selectNodeContents(el);\n            range.collapse(false);\n            var sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        } else if (typeof document.body.createTextRange != \"undefined\") {\n            var textRange = document.body.createTextRange();\n            textRange.moveToElementText(el);\n            textRange.collapse(false);\n            textRange.select();\n        }\n    }\n\n    // for contenteditable\n    insertTextAtCursor(text) {\n        var sel, range, html;\n        sel = window.getSelection();\n        range = sel.getRangeAt(0);\n        range.deleteContents();\n        var textNode = document.createTextNode(text);\n        range.insertNode(textNode);\n        range.selectNodeContents(textNode)\n        range.collapse(false)\n        sel.removeAllRanges()\n        sel.addRange(range)\n    }\n\n    // for regular inputs\n    insertAtCaret(textarea, text) {\n        var scrollPos = textarea.scrollTop;\n        var caretPos = textarea.selectionStart;\n\n        var front = (textarea.value).substring(0, caretPos);\n        var back = (textarea.value).substring(textarea.selectionEnd, textarea.value.length);\n        textarea.value = front + text + back;\n        caretPos = caretPos + text.length;\n        textarea.selectionStart = caretPos;\n        textarea.selectionEnd = caretPos;\n        textarea.focus();\n        textarea.scrollTop = scrollPos;\n    }\n\n    hideMenu() {\n        if (this.menu) {\n            this.menu.style.cssText = 'display: none;'\n            this.isActive = false\n            this.menuSelected = 0\n            this.current = {}\n        }\n    }\n\n    selectItemAtIndex(index, originalEvent) {\n        index = parseInt(index)\n        if (typeof index !== 'number' || isNaN(index)) return\n        let item = this.current.filteredItems[index]\n        let content = this.current.collection.selectTemplate(item)\n        if (content !== null) this.replaceText(content, originalEvent, item)\n    }\n\n    replaceText(content, originalEvent, item) {\n        this.range.replaceTriggerText(content, true, true, originalEvent, item)\n    }\n\n    _append(collection, newValues, replace) {\n        if (typeof collection.values === 'function') {\n            throw new Error('Unable to append to values, as it is a function.')\n        } else if (!replace) {\n            collection.values = collection.values.concat(newValues)\n        } else {\n            collection.values = newValues\n        }\n    }\n\n    append(collectionIndex, newValues, replace) {\n        let index = parseInt(collectionIndex)\n        if (typeof index !== 'number') throw new Error('please provide an index for the collection to update.')\n\n        let collection = this.collection[index]\n\n        this._append(collection, newValues, replace)\n    }\n\n    appendCurrent(newValues, replace) {\n        if (this.isActive) {\n            this._append(this.current.collection, newValues, replace)\n        } else {\n            throw new Error('No active state. Please use append instead and pass an index.')\n        }\n    }\n\n    detach(el) {\n        if (!el) {\n            throw new Error('[Tribute] Must pass in a DOM node or NodeList.')\n        }\n\n        // Check if it is a jQuery collection\n        if (typeof jQuery !== 'undefined' && el instanceof jQuery) {\n            el = el.get()\n        }\n\n        // Is el an Array/Array-like object?\n        if (el.constructor === NodeList || el.constructor === HTMLCollection || el.constructor === Array) {\n            let length = el.length\n            for (var i = 0; i < length; ++i) {\n                this._detach(el[i])\n            }\n        } else {\n            this._detach(el)\n        }\n    }\n\n    _detach(el) {\n        this.events.unbind(el)\n        if (el.tributeMenu) {\n            this.menuEvents.unbind(el.tributeMenu)\n        }\n\n        setTimeout(() => {\n            el.removeAttribute('data-tribute')\n            this.isActive = false\n            if (el.tributeMenu) {\n                el.tributeMenu.remove()\n            }\n        })\n    }\n}\n\nexport default Tribute;\n",
    "class TributeEvents {\n    constructor(tribute) {\n        this.tribute = tribute\n        this.tribute.events = this\n    }\n\n    static keys() {\n        return [{\n            key: 9,\n            value: 'TAB'\n        }, {\n            key: 8,\n            value: 'DELETE'\n        }, {\n            key: 13,\n            value: 'ENTER'\n        }, {\n            key: 27,\n            value: 'ESCAPE'\n        }, {\n            key: 32,\n            value: 'SPACE'\n        }, {\n            key: 38,\n            value: 'UP'\n        }, {\n            key: 40,\n            value: 'DOWN'\n        }]\n    }\n\n    bind(element) {\n        element.boundKeydown = this.keydown.bind(element, this);\n        element.boundKeyup = this.keyup.bind(element, this);\n        element.boundInput = this.input.bind(element, this);\n\n        element.addEventListener('keydown',\n            element.boundKeydown, false)\n        element.addEventListener('keyup',\n            element.boundKeyup, false)\n        element.addEventListener('input',\n            element.boundInput, false)\n    }\n\n    unbind(element) {\n        element.removeEventListener('keydown',\n            element.boundKeydown, false)\n        element.removeEventListener('keyup',\n            element.boundKeyup, false)\n        element.removeEventListener('input',\n            element.boundInput, false)\n\n        delete element.boundKeydown\n        delete element.boundKeyup\n        delete element.boundInput\n    }\n\n    keydown(instance, event) {\n        if (instance.shouldDeactivate(event)) {\n            instance.tribute.isActive = false\n            instance.tribute.hideMenu()\n        }\n\n        let element = this\n        instance.commandEvent = false\n\n        TributeEvents.keys().forEach(o => {\n            if (o.key === event.keyCode) {\n                instance.commandEvent = true\n                instance.callbacks()[o.value.toLowerCase()](event, element)\n            }\n        })\n    }\n\n    input(instance, event) {\n        instance.inputEvent = true\n        instance.keyup.call(this, instance, event)\n    }\n\n    click(instance, event) {\n        let tribute = instance.tribute\n        if (tribute.menu && tribute.menu.contains(event.target)) {\n            let li = event.target\n            event.preventDefault()\n            event.stopPropagation()\n            while (li.nodeName.toLowerCase() !== 'li') {\n                li = li.parentNode\n                if (!li || li === tribute.menu) {\n                    throw new Error('cannot find the <li> container for the click')\n                }\n            }\n            tribute.selectItemAtIndex(li.getAttribute('data-index'), event)\n            tribute.hideMenu()\n\n        // TODO: should fire with externalTrigger and target is outside of menu\n        } else if (tribute.current.element && !tribute.current.externalTrigger) {\n            tribute.current.externalTrigger = false\n            setTimeout(() => tribute.hideMenu())\n        }\n    }\n\n    keyup(instance, event) {\n        if (instance.inputEvent) {\n            instance.inputEvent = false\n        }\n        instance.updateSelection(this)\n\n        if (event.keyCode === 27) return\n\n        if (!instance.tribute.allowSpaces && instance.tribute.hasTrailingSpace) {\n            instance.tribute.hasTrailingSpace = false;\n            instance.commandEvent = true;\n            instance.callbacks()[\"space\"](event, this);\n            return\n        }\n\n        if (!instance.tribute.isActive) {\n            if (instance.tribute.autocompleteMode) {\n                instance.callbacks().triggerChar(event, this, '')\n            } else {\n                let keyCode = instance.getKeyCode(instance, this, event)\n    \n                if (isNaN(keyCode) || !keyCode) return\n    \n                let trigger = instance.tribute.triggers().find(trigger => {\n                    return trigger.charCodeAt(0) === keyCode\n                })\n    \n                if (typeof trigger !== 'undefined') {\n                    instance.callbacks().triggerChar(event, this, trigger)\n                }\n            }\n        }\n\n        if ((instance.tribute.current.trigger || instance.tribute.autocompleteMode)\n            && instance.commandEvent === false\n            || instance.tribute.isActive && event.keyCode === 8) {\n          instance.tribute.showMenuFor(this, true)\n        }\n    }\n\n    shouldDeactivate(event) {\n        if (!this.tribute.isActive) return false\n\n        if (this.tribute.current.mentionText.length === 0) {\n            let eventKeyPressed = false\n            TributeEvents.keys().forEach(o => {\n                if (event.keyCode === o.key) eventKeyPressed = true\n            })\n\n            return !eventKeyPressed\n        }\n\n        return false\n    }\n\n    getKeyCode(instance, el, event) {\n        let char\n        let tribute = instance.tribute\n        let info = tribute.range.getTriggerInfo(false, tribute.hasTrailingSpace, true, tribute.allowSpaces, tribute.autocompleteMode)\n\n        if (info) {\n            return info.mentionTriggerChar.charCodeAt(0)\n        } else {\n            return false\n        }\n    }\n\n    updateSelection(el) {\n        this.tribute.current.element = el\n        let info = this.tribute.range.getTriggerInfo(false, this.tribute.hasTrailingSpace, true, this.tribute.allowSpaces, this.tribute.autocompleteMode)\n\n        if (info) {\n            this.tribute.current.selectedPath = info.mentionSelectedPath\n            this.tribute.current.mentionText = info.mentionText\n            this.tribute.current.selectedOffset = info.mentionSelectedOffset\n        }\n    }\n\n    callbacks() {\n        return {\n            triggerChar: (e, el, trigger) => {\n                let tribute = this.tribute\n                tribute.current.trigger = trigger\n\n                let collectionItem = tribute.collection.find(item => {\n                    return item.trigger === trigger\n                })\n\n                tribute.current.collection = collectionItem\n                if (tribute.inputEvent) tribute.showMenuFor(el, true)\n            },\n            enter: (e, el) => {\n                // choose selection\n                if (this.tribute.isActive && this.tribute.current.filteredItems) {\n                    e.preventDefault()\n                    e.stopPropagation()\n                    setTimeout(() => {\n                        this.tribute.selectItemAtIndex(this.tribute.menuSelected, e)\n                        this.tribute.hideMenu()\n                    }, 0)\n                }\n            },\n            escape: (e, el) => {\n                if (this.tribute.isActive) {\n                    e.preventDefault()\n                    e.stopPropagation()\n                    this.tribute.isActive = false\n                    this.tribute.hideMenu()\n                }\n            },\n            tab: (e, el) => {\n                // choose first match\n                this.callbacks().enter(e, el)\n            },\n            space: (e, el) => {\n                if (this.tribute.isActive) {\n                    if (this.tribute.spaceSelectsMatch) {\n                        this.callbacks().enter(e, el)\n                    } else if (!this.tribute.allowSpaces) {\n                        e.stopPropagation();\n                        setTimeout(() => {\n                            this.tribute.hideMenu();\n                            this.tribute.isActive = false;\n                        }, 0);\n                    }\n                }\n            },\n            up: (e, el) => {\n                // navigate up ul\n                if (this.tribute.isActive && this.tribute.current.filteredItems) {\n                    e.preventDefault()\n                    e.stopPropagation()\n                    let count = this.tribute.current.filteredItems.length,\n                        selected = this.tribute.menuSelected\n\n                    if (count > selected && selected > 0) {\n                        this.tribute.menuSelected--\n                        this.setActiveLi()\n                    } else if (selected === 0) {\n                      this.tribute.menuSelected = count - 1\n                      this.setActiveLi()\n                      this.tribute.menu.scrollTop = this.tribute.menu.scrollHeight\n                    }\n                }\n            },\n            down: (e, el) => {\n                // navigate down ul\n                if (this.tribute.isActive && this.tribute.current.filteredItems) {\n                    e.preventDefault()\n                    e.stopPropagation()\n                    let count = this.tribute.current.filteredItems.length - 1,\n                        selected = this.tribute.menuSelected\n\n                    if (count > selected) {\n                        this.tribute.menuSelected++\n                        this.setActiveLi()\n                    } else if (count === selected) {\n                        this.tribute.menuSelected = 0\n                        this.setActiveLi()\n                        this.tribute.menu.scrollTop = 0\n                    }\n                }\n            },\n            delete: (e, el) => {\n                if (this.tribute.isActive && this.tribute.current.mentionText.length < 1) {\n                    this.tribute.hideMenu()\n                } else if (this.tribute.isActive) {\n                    this.tribute.showMenuFor(el)\n                }\n            }\n        }\n    }\n\n    setActiveLi(index) {\n        let lis = this.tribute.menu.querySelectorAll('li'),\n            length = lis.length >>> 0\n\n        if (index) this.tribute.menuSelected = parseInt(index);\n\n        for (let i = 0; i < length; i++) {\n            let li = lis[i]\n            if (i === this.tribute.menuSelected) {\n                li.classList.add(this.tribute.current.collection.selectClass);\n\n                let liClientRect = li.getBoundingClientRect();\n                let menuClientRect = this.tribute.menu.getBoundingClientRect();\n\n                if (liClientRect.bottom > menuClientRect.bottom) {\n                    let scrollDistance = liClientRect.bottom - menuClientRect.bottom;\n                    this.tribute.menu.scrollTop += scrollDistance\n                } else if (liClientRect.top < menuClientRect.top) {\n                    let scrollDistance = menuClientRect.top - liClientRect.top;\n                    this.tribute.menu.scrollTop -= scrollDistance\n                }\n\n            } else {\n                li.classList.remove(this.tribute.current.collection.selectClass);\n            }\n        }\n    }\n\n    getFullHeight(elem, includeMargin) {\n      let height = elem.getBoundingClientRect().height\n\n      if (includeMargin) {\n        let style = elem.currentStyle || window.getComputedStyle(elem)\n        return height + parseFloat(style.marginTop) + parseFloat(style.marginBottom)\n      }\n\n      return height\n    }\n\n}\n\nexport default TributeEvents;\n",
    "class TributeMenuEvents {\n    constructor(tribute) {\n        this.tribute = tribute\n        this.tribute.menuEvents = this\n        this.menu = this.tribute.menu\n    }\n\n    bind(menu) {\n        this.menuClickEvent = this.tribute.events.click.bind(null, this)\n        this.menuContainerScrollEvent = this.debounce(() => {\n            if (this.tribute.isActive) {\n                this.tribute.showMenuFor(this.tribute.current.element, false)\n            }\n        }, 300, false)\n        this.windowResizeEvent = this.debounce(() => {\n            if (this.tribute.isActive) {\n                this.tribute.range.positionMenuAtCaret(true)\n            }\n        }, 300, false)\n\n        // fixes IE11 issues with mousedown\n        this.tribute.range.getDocument().addEventListener('MSPointerDown',\n            this.menuClickEvent, false)\n        this.tribute.range.getDocument().addEventListener('mousedown',\n            this.menuClickEvent, false)\n        window.addEventListener('resize', this.windowResizeEvent)\n\n        if (this.menuContainer) {\n            this.menuContainer.addEventListener('scroll', this.menuContainerScrollEvent, false)\n        } else {\n            window.addEventListener('scroll', this.menuContainerScrollEvent)\n        }\n\n    }\n\n    unbind(menu) {\n        this.tribute.range.getDocument().removeEventListener('mousedown',\n            this.menuClickEvent, false)\n        this.tribute.range.getDocument().removeEventListener('MSPointerDown',\n            this.menuClickEvent, false)\n        window.removeEventListener('resize', this.windowResizeEvent)\n\n        if (this.menuContainer) {\n            this.menuContainer.removeEventListener('scroll', this.menuContainerScrollEvent, false)\n        } else {\n            window.removeEventListener('scroll', this.menuContainerScrollEvent)\n        }\n    }\n\n    debounce(func, wait, immediate) {\n        var timeout\n        return () => {\n            var context = this,\n                args = arguments\n            var later = () => {\n                timeout = null\n                if (!immediate) func.apply(context, args)\n            }\n            var callNow = immediate && !timeout\n            clearTimeout(timeout)\n            timeout = setTimeout(later, wait)\n            if (callNow) func.apply(context, args)\n        }\n    }\n}\n\n\nexport default TributeMenuEvents;\n",
    "// Thanks to https://github.com/jeff-collins/ment.io\nimport \"./utils\";\n\nclass TributeRange {\n    constructor(tribute) {\n        this.tribute = tribute\n        this.tribute.range = this\n    }\n\n    getDocument() {\n        let iframe\n        if (this.tribute.current.collection) {\n            iframe = this.tribute.current.collection.iframe\n        }\n\n        if (!iframe) {\n            return document\n        }\n\n        return iframe.contentWindow.document\n    }\n\n    positionMenuAtCaret(scrollTo) {\n        let context = this.tribute.current,\n            coordinates\n\n        let info = this.getTriggerInfo(false, this.tribute.hasTrailingSpace, true, this.tribute.allowSpaces, this.tribute.autocompleteMode)\n\n        if (typeof info !== 'undefined') {\n\n            if(!this.tribute.positionMenu){\n                this.tribute.menu.style.cssText = `display: block;`\n                return\n            }\n\n            if (!this.isContentEditable(context.element)) {\n                coordinates = this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,\n                    info.mentionPosition)\n            }\n            else {\n                coordinates = this.getContentEditableCaretPosition(info.mentionPosition)\n            }\n\n            this.tribute.menu.style.cssText = `top: ${coordinates.top}px;\n                                     left: ${coordinates.left}px;\n                                     right: ${coordinates.right}px;\n                                     bottom: ${coordinates.bottom}px;\n                                     position: absolute;\n                                     display: block;`\n\n            if (coordinates.left === 'auto') {\n                this.tribute.menu.style.left = 'auto'\n            }\n\n            if (coordinates.top === 'auto') {\n                this.tribute.menu.style.top = 'auto'\n            }\n\n            if (scrollTo) this.scrollIntoView()\n\n            window.setTimeout(() => {\n                let menuDimensions = {\n                   width: this.tribute.menu.offsetWidth,\n                   height: this.tribute.menu.offsetHeight\n                }\n                let menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n\n                let menuIsOffScreenHorizontally = window.innerWidth > menuDimensions.width && (menuIsOffScreen.left || menuIsOffScreen.right)\n                let menuIsOffScreenVertically = window.innerHeight > menuDimensions.height && (menuIsOffScreen.top || menuIsOffScreen.bottom)\n                if (menuIsOffScreenHorizontally || menuIsOffScreenVertically) {\n                    this.tribute.menu.style.cssText = 'display: none'\n                    this.positionMenuAtCaret(scrollTo)\n                }\n            }, 0)\n\n        } else {\n            this.tribute.menu.style.cssText = 'display: none'\n        }\n    }\n\n    get menuContainerIsBody() {\n        return this.tribute.menuContainer === document.body || !this.tribute.menuContainer;\n    }\n\n\n    selectElement(targetElement, path, offset) {\n        let range\n        let elem = targetElement\n\n        if (path) {\n            for (var i = 0; i < path.length; i++) {\n                elem = elem.childNodes[path[i]]\n                if (elem === undefined) {\n                    return\n                }\n                while (elem.length < offset) {\n                    offset -= elem.length\n                    elem = elem.nextSibling\n                }\n                if (elem.childNodes.length === 0 && !elem.length) {\n                    elem = elem.previousSibling\n                }\n            }\n        }\n        let sel = this.getWindowSelection()\n\n        range = this.getDocument().createRange()\n        range.setStart(elem, offset)\n        range.setEnd(elem, offset)\n        range.collapse(true)\n\n        try {\n            sel.removeAllRanges()\n        } catch (error) {}\n\n        sel.addRange(range)\n        targetElement.focus()\n    }\n\n    replaceTriggerText(text, requireLeadingSpace, hasTrailingSpace, originalEvent, item) {\n        let info = this.getTriggerInfo(true, hasTrailingSpace, requireLeadingSpace, this.tribute.allowSpaces, this.tribute.autocompleteMode)\n\n        if (info !== undefined) {\n            let context = this.tribute.current\n            let replaceEvent = new CustomEvent('tribute-replaced', {\n                detail: {\n                    item: item,\n                    instance: context,\n                    context: info,\n                    event: originalEvent,\n                }\n            })\n\n            if (!this.isContentEditable(context.element)) {\n                let myField = this.tribute.current.element\n                let textSuffix = typeof this.tribute.replaceTextSuffix == 'string'\n                    ? this.tribute.replaceTextSuffix\n                    : ' '\n                text += textSuffix\n                let startPos = info.mentionPosition\n                let endPos = info.mentionPosition + info.mentionText.length + textSuffix.length\n                if (!this.tribute.autocompleteMode) {\n                    endPos += info.mentionTriggerChar.length - 1\n                }\n                myField.value = myField.value.substring(0, startPos) + text +\n                    myField.value.substring(endPos, myField.value.length)\n                myField.selectionStart = startPos + text.length\n                myField.selectionEnd = startPos + text.length\n            } else {\n                // add a space to the end of the pasted text\n                let textSuffix = typeof this.tribute.replaceTextSuffix == 'string'\n                    ? this.tribute.replaceTextSuffix\n                    : '\\xA0'\n                text += textSuffix\n                let endPos = info.mentionPosition + info.mentionText.length\n                if (!this.tribute.autocompleteMode) {\n                    endPos += info.mentionTriggerChar.length\n                }\n                this.pasteHtml(text, info.mentionPosition, endPos)\n            }\n\n            context.element.dispatchEvent(new CustomEvent('input', { bubbles: true }))\n            context.element.dispatchEvent(replaceEvent)\n        }\n    }\n\n    pasteHtml(html, startPos, endPos) {\n        let range, sel\n        sel = this.getWindowSelection()\n        range = this.getDocument().createRange()\n        range.setStart(sel.anchorNode, startPos)\n        range.setEnd(sel.anchorNode, endPos)\n        range.deleteContents()\n\n        let el = this.getDocument().createElement('div')\n        el.innerHTML = html\n        let frag = this.getDocument().createDocumentFragment(),\n            node, lastNode\n        while ((node = el.firstChild)) {\n            lastNode = frag.appendChild(node)\n        }\n        range.insertNode(frag)\n\n        // Preserve the selection\n        if (lastNode) {\n            range = range.cloneRange()\n            range.setStartAfter(lastNode)\n            range.collapse(true)\n            sel.removeAllRanges()\n            sel.addRange(range)\n        }\n    }\n\n    getWindowSelection() {\n        if (this.tribute.collection.iframe) {\n            return this.tribute.collection.iframe.contentWindow.getSelection()\n        }\n\n        return window.getSelection()\n    }\n\n    getNodePositionInParent(element) {\n        if (element.parentNode === null) {\n            return 0\n        }\n\n        for (var i = 0; i < element.parentNode.childNodes.length; i++) {\n            let node = element.parentNode.childNodes[i]\n\n            if (node === element) {\n                return i\n            }\n        }\n    }\n\n    getContentEditableSelectedPath(ctx) {\n        let sel = this.getWindowSelection()\n        let selected = sel.anchorNode\n        let path = []\n        let offset\n\n        if (selected != null) {\n            let i\n            let ce = selected.contentEditable\n            while (selected !== null && ce !== 'true') {\n                i = this.getNodePositionInParent(selected)\n                path.push(i)\n                selected = selected.parentNode\n                if (selected !== null) {\n                    ce = selected.contentEditable\n                }\n            }\n            path.reverse()\n\n            // getRangeAt may not exist, need alternative\n            offset = sel.getRangeAt(0).startOffset\n\n            return {\n                selected: selected,\n                path: path,\n                offset: offset\n            }\n        }\n    }\n\n    getTextPrecedingCurrentSelection() {\n        let context = this.tribute.current,\n            text = ''\n\n        if (!this.isContentEditable(context.element)) {\n            let textComponent = this.tribute.current.element;\n            if (textComponent) {\n                let startPos = textComponent.selectionStart\n                if (textComponent.value && startPos >= 0) {\n                    text = textComponent.value.substring(0, startPos)\n                }\n            }\n\n        } else {\n            let selectedElem = this.getWindowSelection().anchorNode\n\n            if (selectedElem != null) {\n                let workingNodeContent = selectedElem.textContent\n                let selectStartOffset = this.getWindowSelection().getRangeAt(0).startOffset\n\n                if (workingNodeContent && selectStartOffset >= 0) {\n                    text = workingNodeContent.substring(0, selectStartOffset)\n                }\n            }\n        }\n\n        return text\n    }\n\n    getLastWordInText(text) {\n        text = text.replace(/\\u00A0/g, ' '); // https://stackoverflow.com/questions/29850407/how-do-i-replace-unicode-character-u00a0-with-a-space-in-javascript\n        let wordsArray = text.split(/\\s+/);\n        let worldsCount = wordsArray.length - 1\n        return wordsArray[worldsCount].trim()\n    }\n\n    getTriggerInfo(menuAlreadyActive, hasTrailingSpace, requireLeadingSpace, allowSpaces, isAutocomplete) {\n        let ctx = this.tribute.current\n        let selected, path, offset\n\n        if (!this.isContentEditable(ctx.element)) {\n            selected = this.tribute.current.element\n        } else {\n            let selectionInfo = this.getContentEditableSelectedPath(ctx)\n\n            if (selectionInfo) {\n                selected = selectionInfo.selected\n                path = selectionInfo.path\n                offset = selectionInfo.offset\n            }\n        }\n\n        let effectiveRange = this.getTextPrecedingCurrentSelection()\n        let lastWordOfEffectiveRange = this.getLastWordInText(effectiveRange)\n\n        if (isAutocomplete) {\n            return {\n                mentionPosition: effectiveRange.length - lastWordOfEffectiveRange.length,\n                mentionText: lastWordOfEffectiveRange,\n                mentionSelectedElement: selected,\n                mentionSelectedPath: path,\n                mentionSelectedOffset: offset\n            }\n        }\n\n        if (effectiveRange !== undefined && effectiveRange !== null) {\n            let mostRecentTriggerCharPos = -1\n            let triggerChar\n\n            this.tribute.collection.forEach(config => {\n                let c = config.trigger\n                let idx = config.requireLeadingSpace ?\n                    this.lastIndexWithLeadingSpace(effectiveRange, c) :\n                    effectiveRange.lastIndexOf(c)\n\n                if (idx > mostRecentTriggerCharPos) {\n                    mostRecentTriggerCharPos = idx\n                    triggerChar = c\n                    requireLeadingSpace = config.requireLeadingSpace\n                }\n            })\n\n            if (mostRecentTriggerCharPos >= 0 &&\n                (\n                    mostRecentTriggerCharPos === 0 ||\n                    !requireLeadingSpace ||\n                    /[\\xA0\\s]/g.test(\n                        effectiveRange.substring(\n                            mostRecentTriggerCharPos - 1,\n                            mostRecentTriggerCharPos)\n                    )\n                )\n            ) {\n                let currentTriggerSnippet = effectiveRange.substring(mostRecentTriggerCharPos + triggerChar.length,\n                    effectiveRange.length)\n\n                triggerChar = effectiveRange.substring(mostRecentTriggerCharPos, mostRecentTriggerCharPos + triggerChar.length)\n                let firstSnippetChar = currentTriggerSnippet.substring(0, 1)\n                let leadingSpace = currentTriggerSnippet.length > 0 &&\n                    (\n                        firstSnippetChar === ' ' ||\n                        firstSnippetChar === '\\xA0'\n                    )\n                if (hasTrailingSpace) {\n                    currentTriggerSnippet = currentTriggerSnippet.trim()\n                }\n\n                let regex = allowSpaces ? /[^\\S ]/g : /[\\xA0\\s]/g;\n\n                this.tribute.hasTrailingSpace = regex.test(currentTriggerSnippet);\n\n                if (!leadingSpace && (menuAlreadyActive || !(regex.test(currentTriggerSnippet)))) {\n                    return {\n                        mentionPosition: mostRecentTriggerCharPos,\n                        mentionText: currentTriggerSnippet,\n                        mentionSelectedElement: selected,\n                        mentionSelectedPath: path,\n                        mentionSelectedOffset: offset,\n                        mentionTriggerChar: triggerChar\n                    }\n                }\n            }\n        }\n    }\n\n    lastIndexWithLeadingSpace (str, trigger) {\n        let reversedStr = str.split('').reverse().join('')\n        let index = -1\n\n        for (let cidx = 0, len = str.length; cidx < len; cidx++) {\n            let firstChar = cidx === str.length - 1\n            let leadingSpace = /\\s/.test(reversedStr[cidx + 1])\n\n            let match = true\n            for (let triggerIdx = trigger.length - 1; triggerIdx >= 0; triggerIdx--) {\n              if (trigger[triggerIdx] !== reversedStr[cidx-triggerIdx]) {\n                match = false\n                break\n              }\n            }\n\n            if (match && (firstChar || leadingSpace)) {\n                index = str.length - 1 - cidx\n                break\n            }\n        }\n\n        return index\n    }\n\n    isContentEditable(element) {\n        return element.nodeName !== 'INPUT' && element.nodeName !== 'TEXTAREA'\n    }\n\n    isMenuOffScreen(coordinates, menuDimensions) {\n        let windowWidth = window.innerWidth\n        let windowHeight = window.innerHeight\n        let doc = document.documentElement\n        let windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n        let windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n\n        let menuTop = typeof coordinates.top === 'number' ? coordinates.top : windowTop + windowHeight - coordinates.bottom - menuDimensions.height\n        let menuRight = typeof coordinates.right === 'number' ? coordinates.right : coordinates.left + menuDimensions.width\n        let menuBottom = typeof coordinates.bottom === 'number' ? coordinates.bottom : coordinates.top + menuDimensions.height\n        let menuLeft = typeof coordinates.left === 'number' ? coordinates.left : windowLeft + windowWidth - coordinates.right - menuDimensions.width\n\n        return {\n            top: menuTop < Math.floor(windowTop),\n            right: menuRight > Math.ceil(windowLeft + windowWidth),\n            bottom: menuBottom > Math.ceil(windowTop + windowHeight),\n            left: menuLeft < Math.floor(windowLeft)\n        }\n    }\n\n    getMenuDimensions() {\n        // Width of the menu depends of its contents and position\n        // We must check what its width would be without any obstruction\n        // This way, we can achieve good positioning for flipping the menu\n        let dimensions = {\n            width: null,\n            height: null\n        }\n\n        this.tribute.menu.style.cssText = `top: 0px;\n                                 left: 0px;\n                                 position: fixed;\n                                 display: block;\n                                 visibility; hidden;`\n       dimensions.width = this.tribute.menu.offsetWidth\n       dimensions.height = this.tribute.menu.offsetHeight\n\n       this.tribute.menu.style.cssText = `display: none;`\n\n       return dimensions\n    }\n\n    getTextAreaOrInputUnderlinePosition(element, position, flipped) {\n        let properties = ['direction', 'boxSizing', 'width', 'height', 'overflowX',\n            'overflowY', 'borderTopWidth', 'borderRightWidth',\n            'borderBottomWidth', 'borderLeftWidth', 'paddingTop',\n            'paddingRight', 'paddingBottom', 'paddingLeft',\n            'fontStyle', 'fontVariant', 'fontWeight', 'fontStretch',\n            'fontSize', 'fontSizeAdjust', 'lineHeight', 'fontFamily',\n            'textAlign', 'textTransform', 'textIndent',\n            'textDecoration', 'letterSpacing', 'wordSpacing'\n        ]\n\n        let isFirefox = (window.mozInnerScreenX !== null)\n\n        let div = this.getDocument().createElement('div')\n        div.id = 'input-textarea-caret-position-mirror-div'\n        this.getDocument().body.appendChild(div)\n\n        let style = div.style\n        let computed = window.getComputedStyle ? getComputedStyle(element) : element.currentStyle\n\n        style.whiteSpace = 'pre-wrap'\n        if (element.nodeName !== 'INPUT') {\n            style.wordWrap = 'break-word'\n        }\n\n        // position off-screen\n        style.position = 'absolute'\n        style.visibility = 'hidden'\n\n        // transfer the element's properties to the div\n        properties.forEach(prop => {\n            style[prop] = computed[prop]\n        })\n\n        if (isFirefox) {\n            style.width = `${(parseInt(computed.width) - 2)}px`\n            if (element.scrollHeight > parseInt(computed.height))\n                style.overflowY = 'scroll'\n        } else {\n            style.overflow = 'hidden'\n        }\n\n        div.textContent = element.value.substring(0, position)\n\n        if (element.nodeName === 'INPUT') {\n            div.textContent = div.textContent.replace(/\\s/g, '')\n        }\n\n        let span = this.getDocument().createElement('span')\n        span.textContent = element.value.substring(position) || '.'\n        div.appendChild(span)\n\n        let rect = element.getBoundingClientRect()\n        let doc = document.documentElement\n        let windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n        let windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n\n        let top = 0;\n        let left = 0;\n        if (this.menuContainerIsBody) {\n          top = rect.top;\n          left = rect.left;\n        }\n\n        let coordinates = {\n            top: top + windowTop + span.offsetTop + parseInt(computed.borderTopWidth) + parseInt(computed.fontSize) - element.scrollTop,\n            left: left + windowLeft + span.offsetLeft + parseInt(computed.borderLeftWidth)\n        }\n\n        let windowWidth = window.innerWidth\n        let windowHeight = window.innerHeight\n\n        let menuDimensions = this.getMenuDimensions()\n        let menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n\n        if (menuIsOffScreen.right) {\n            coordinates.right = windowWidth - coordinates.left\n            coordinates.left = 'auto'\n        }\n\n        let parentHeight = this.tribute.menuContainer\n            ? this.tribute.menuContainer.offsetHeight\n            : this.getDocument().body.offsetHeight\n\n        if (menuIsOffScreen.bottom) {\n            let parentRect = this.tribute.menuContainer\n                ? this.tribute.menuContainer.getBoundingClientRect()\n                : this.getDocument().body.getBoundingClientRect()\n            let scrollStillAvailable = parentHeight - (windowHeight - parentRect.top)\n\n            coordinates.bottom = scrollStillAvailable + (windowHeight - rect.top - span.offsetTop)\n            coordinates.top = 'auto'\n        }\n\n        menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n        if (menuIsOffScreen.left) {\n            coordinates.left = windowWidth > menuDimensions.width\n                ? windowLeft + windowWidth - menuDimensions.width\n                : windowLeft\n            delete coordinates.right\n        }\n        if (menuIsOffScreen.top) {\n            coordinates.top = windowHeight > menuDimensions.height\n                ? windowTop + windowHeight - menuDimensions.height\n                : windowTop\n            delete coordinates.bottom\n        }\n\n        this.getDocument().body.removeChild(div)\n        return coordinates\n    }\n\n    getContentEditableCaretPosition(selectedNodePosition) {\n        let range\n        let sel = this.getWindowSelection()\n\n        range = this.getDocument().createRange()\n        range.setStart(sel.anchorNode, selectedNodePosition)\n        range.setEnd(sel.anchorNode, selectedNodePosition)\n\n        range.collapse(false)\n\n        let rect = range.getBoundingClientRect()\n        let doc = document.documentElement\n        let windowLeft = (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0)\n        let windowTop = (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0)\n\n        let left = rect.left\n        let top = rect.top\n\n        let coordinates = {\n            left: left + windowLeft,\n            top: top + rect.height + windowTop\n        }\n        let windowWidth = window.innerWidth\n        let windowHeight = window.innerHeight\n\n        let menuDimensions = this.getMenuDimensions()\n        let menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n\n        if (menuIsOffScreen.right) {\n            coordinates.left = 'auto'\n            coordinates.right = windowWidth - rect.left - windowLeft\n        }\n\n        let parentHeight = this.tribute.menuContainer\n            ? this.tribute.menuContainer.offsetHeight\n            : this.getDocument().body.offsetHeight\n\n        if (menuIsOffScreen.bottom) {\n            let parentRect = this.tribute.menuContainer\n                ? this.tribute.menuContainer.getBoundingClientRect()\n                : this.getDocument().body.getBoundingClientRect()\n            let scrollStillAvailable = parentHeight - (windowHeight - parentRect.top)\n\n            coordinates.top = 'auto'\n            coordinates.bottom = scrollStillAvailable + (windowHeight - rect.top)\n        }\n\n        menuIsOffScreen = this.isMenuOffScreen(coordinates, menuDimensions)\n        if (menuIsOffScreen.left) {\n            coordinates.left = windowWidth > menuDimensions.width\n                ? windowLeft + windowWidth - menuDimensions.width\n                : windowLeft\n            delete coordinates.right\n        }\n        if (menuIsOffScreen.top) {\n            coordinates.top = windowHeight > menuDimensions.height\n                ? windowTop + windowHeight - menuDimensions.height\n                : windowTop\n            delete coordinates.bottom\n        }\n\n        if (!this.menuContainerIsBody) {\n            coordinates.left = coordinates.left ? coordinates.left - this.tribute.menuContainer.offsetLeft : coordinates.left\n            coordinates.top = coordinates.top ? coordinates.top - this.tribute.menuContainer.offsetTop : coordinates.top\n        }\n\n        return coordinates\n    }\n\n    scrollIntoView(elem) {\n        let reasonableBuffer = 20,\n            clientRect\n        let maxScrollDisplacement = 100\n        let e = this.menu\n\n        if (typeof e === 'undefined') return;\n\n        while (clientRect === undefined || clientRect.height === 0) {\n            clientRect = e.getBoundingClientRect()\n\n            if (clientRect.height === 0) {\n                e = e.childNodes[0]\n                if (e === undefined || !e.getBoundingClientRect) {\n                    return\n                }\n            }\n        }\n\n        let elemTop = clientRect.top\n        let elemBottom = elemTop + clientRect.height\n\n        if (elemTop < 0) {\n            window.scrollTo(0, window.pageYOffset + clientRect.top - reasonableBuffer)\n        } else if (elemBottom > window.innerHeight) {\n            let maxY = window.pageYOffset + clientRect.top - reasonableBuffer\n\n            if (maxY - window.pageYOffset > maxScrollDisplacement) {\n                maxY = window.pageYOffset + maxScrollDisplacement\n            }\n\n            let targetY = window.pageYOffset - (window.innerHeight - elemBottom)\n\n            if (targetY > maxY) {\n                targetY = maxY\n            }\n\n            window.scrollTo(0, targetY)\n        }\n    }\n}\n\n\nexport default TributeRange;\n",
    "// Thanks to https://github.com/mattyork/fuzzy\nclass TributeSearch {\n    constructor(tribute) {\n        this.tribute = tribute\n        this.tribute.search = this\n    }\n\n    simpleFilter(pattern, array) {\n        return array.filter(string => {\n            return this.test(pattern, string)\n        })\n    }\n\n    test(pattern, string) {\n        return this.match(pattern, string) !== null\n    }\n\n    match(pattern, string, opts) {\n        opts = opts || {}\n        let patternIdx = 0,\n            result = [],\n            len = string.length,\n            totalScore = 0,\n            currScore = 0,\n            pre = opts.pre || '',\n            post = opts.post || '',\n            compareString = opts.caseSensitive && string || string.toLowerCase(),\n            ch, compareChar\n\n        if (opts.skip) {\n            return {rendered: string, score: 0}\n        }\n\n        pattern = opts.caseSensitive && pattern || pattern.toLowerCase()\n\n        let patternCache = this.traverse(compareString, pattern, 0, 0, [])\n        if (!patternCache) {\n            return null\n        }\n        return {\n            rendered: this.render(string, patternCache.cache, pre, post),\n            score: patternCache.score\n        }\n    }\n\n    traverse(string, pattern, stringIndex, patternIndex, patternCache) {\n        // if the pattern search at end\n        if (pattern.length === patternIndex) {\n\n            // calculate score and copy the cache containing the indices where it's found\n            return {\n                score: this.calculateScore(patternCache),\n                cache: patternCache.slice()\n            }\n        }\n\n        // if string at end or remaining pattern > remaining string\n        if (string.length === stringIndex || pattern.length - patternIndex > string.length - stringIndex) {\n            return undefined\n        }\n\n        let c = pattern[patternIndex]\n        let index = string.indexOf(c, stringIndex)\n        let best, temp\n\n        while (index > -1) {\n            patternCache.push(index)\n            temp = this.traverse(string, pattern, index + 1, patternIndex + 1, patternCache)\n            patternCache.pop()\n\n            // if downstream traversal failed, return best answer so far\n            if (!temp) {\n                return best\n            }\n\n            if (!best || best.score < temp.score) {\n                best = temp\n            }\n\n            index = string.indexOf(c, index + 1)\n        }\n\n        return best\n    }\n\n    calculateScore(patternCache) {\n        let score = 0\n        let temp = 1\n\n        patternCache.forEach((index, i) => {\n            if (i > 0) {\n                if (patternCache[i - 1] + 1 === index) {\n                    temp += temp + 1\n                }\n                else {\n                    temp = 1\n                }\n            }\n\n            score += temp\n        })\n\n        return score\n    }\n\n    render(string, indices, pre, post) {\n        var rendered = string.substring(0, indices[0])\n\n        indices.forEach((index, i) => {\n            rendered += pre + string[index] + post +\n                string.substring(index + 1, (indices[i + 1]) ? indices[i + 1] : string.length)\n        })\n\n        return rendered\n    }\n\n    filter(pattern, arr, opts) {\n        opts = opts || {}\n        return arr\n            .reduce((prev, element, idx, arr) => {\n                let str = element\n\n                if (opts.extract) {\n                    str = opts.extract(element)\n\n                    if (!str) { // take care of undefineds / nulls / etc.\n                        str = ''\n                    }\n                }\n\n                let rendered = this.match(pattern, str, opts)\n\n                if (rendered != null) {\n                    prev[prev.length] = {\n                        string: rendered.rendered,\n                        score: rendered.score,\n                        index: idx,\n                        original: element\n                    }\n                }\n\n                return prev\n            }, [])\n\n        .sort((a, b) => {\n            let compare = b.score - a.score\n            if (compare) return compare\n            return a.index - b.index\n        })\n    }\n}\n\nexport default TributeSearch;\n",
    "/**\n* Tribute.js\n* Native ES6 JavaScript @mention Plugin\n**/\n\nimport Tribute from \"./Tribute\";\n\nexport default Tribute;\n",
    "if (!Array.prototype.find) {\n    Array.prototype.find = function(predicate) {\n        if (this === null) {\n            throw new TypeError('Array.prototype.find called on null or undefined')\n        }\n        if (typeof predicate !== 'function') {\n            throw new TypeError('predicate must be a function')\n        }\n        var list = Object(this)\n        var length = list.length >>> 0\n        var thisArg = arguments[1]\n        var value\n\n        for (var i = 0; i < length; i++) {\n            value = list[i]\n            if (predicate.call(thisArg, value, i, list)) {\n                return value\n            }\n        }\n        return undefined\n    }\n}\n\nif (window && typeof window.CustomEvent !== \"function\") {\n  function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    }\n    var evt = document.createEvent('CustomEvent')\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail)\n    return evt\n  }\n\n if (typeof window.Event !== 'undefined') {\n   CustomEvent.prototype = window.Event.prototype\n }\n\n  window.CustomEvent = CustomEvent\n}"
  ]
}